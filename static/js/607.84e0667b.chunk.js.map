{"version":3,"file":"static/js/607.84e0667b.chunk.js","mappings":"6MAyEA,UA7DmB,WACjB,OAAwCA,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoDF,EAAAA,EAAAA,UAAS,IAA7D,eAAOG,EAAP,KAA2BC,EAA3B,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAA8CN,EAAAA,EAAAA,WAAS,GAAvD,eAAOO,EAAP,KAAwBC,EAAxB,KACMC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRF,GACEG,EAAAA,EAAAA,IAAa,CACXC,KAAM,EACNC,YAAad,EACbe,KAAMjB,KAGVW,GACEO,EAAAA,EAAAA,IAAqB,CACnBF,YAAad,EACbe,KAAMjB,IAGX,GAAE,CAACW,EAAUT,EAAoBF,KAElCa,EAAAA,EAAAA,YAAU,WACJP,GACFK,GAASQ,EAAAA,EAAAA,IAAiB,CAAEJ,KAAMX,IAErC,GAAE,CAACO,EAAUP,EAAaE,IAqB3B,OACE,iCACE,SAAC,IAAD,CAAcc,MAAM,sCACpB,SAAC,IAAD,CACEC,iBAlBmB,SAAAC,GACvBrB,EAAgBqB,EAAMC,OAAOC,OAC7BrB,EAAsB,IACtBE,EAAe,GACfE,GAAmB,EACpB,EAcKkB,uBAZyB,SAAAH,GAC7BnB,EAAsBmB,EAAMC,OAAOC,OACnCvB,EAAgB,IAChBI,EAAe,GACfE,GAAmB,EACpB,KASG,SAAC,IAAD,CAAUC,KAAMA,EAAMkB,eA1BH,WACrBrB,GAAe,SAAAsB,GAAQ,OAAIA,EAAW,CAAf,IACvBpB,GAAmB,EACpB,MA0BF,C","sources":["pages/CarCatalog.jsx"],"sourcesContent":["import { CarsList } from 'components/CarList';\nimport { CarsFilter } from 'components/CarsFilter';\nimport { SectionTitle } from 'components/common/SectionTitle';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectCarsItems } from 'redux/selectors';\nimport {\n  getCarsQuantityThunk,\n  getCarsThunk,\n  getMoreCarsThunk,\n} from 'redux/thunks';\n\nconst CarCatalog = () => {\n  const [selectedMake, setSelectedMake] = useState('');\n  const [selectedPriceRange, setSelectedPriceRange] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [shouldFetchMore, setShouldFetchMore] = useState(false);\n  const cars = useSelector(selectCarsItems);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(\n      getCarsThunk({\n        page: 1,\n        rentalPrice: selectedPriceRange,\n        make: selectedMake,\n      })\n    );\n    dispatch(\n      getCarsQuantityThunk({\n        rentalPrice: selectedPriceRange,\n        make: selectedMake,\n      })\n    );\n  }, [dispatch, selectedPriceRange, selectedMake]);\n\n  useEffect(() => {\n    if (shouldFetchMore) {\n      dispatch(getMoreCarsThunk({ page: currentPage }));\n    }\n  }, [dispatch, currentPage, shouldFetchMore]);\n\n  const handleLoadMore = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n    setShouldFetchMore(true);\n  };\n\n  const handleMakeChange = event => {\n    setSelectedMake(event.target.value);\n    setSelectedPriceRange('');\n    setCurrentPage(1);\n    setShouldFetchMore(false);\n  };\n\n  const handlePriceRangeChange = event => {\n    setSelectedPriceRange(event.target.value);\n    setSelectedMake('');\n    setCurrentPage(1);\n    setShouldFetchMore(false);\n  };\n\n  return (\n    <>\n      <SectionTitle title=\"Find a car with this Car Catalog\" />\n      <CarsFilter\n        handleMakeChange={handleMakeChange}\n        handlePriceRangeChange={handlePriceRangeChange}\n      />\n      <CarsList cars={cars} handleLoadMore={handleLoadMore} />\n    </>\n  );\n};\n\nexport default CarCatalog;\n"],"names":["useState","selectedMake","setSelectedMake","selectedPriceRange","setSelectedPriceRange","currentPage","setCurrentPage","shouldFetchMore","setShouldFetchMore","cars","useSelector","selectCarsItems","dispatch","useDispatch","useEffect","getCarsThunk","page","rentalPrice","make","getCarsQuantityThunk","getMoreCarsThunk","title","handleMakeChange","event","target","value","handlePriceRangeChange","handleLoadMore","prevPage"],"sourceRoot":""}