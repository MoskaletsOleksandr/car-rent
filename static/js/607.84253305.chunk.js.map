{"version":3,"file":"static/js/607.84253305.chunk.js","mappings":"gOA2FA,UAxEmB,WACjB,OAAwCA,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoDF,EAAAA,EAAAA,UAAS,IAA7D,eAAOG,EAAP,KAA2BC,EAA3B,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAA8CN,EAAAA,EAAAA,WAAS,GAAvD,eAAOO,EAAP,KAAwBC,EAAxB,KACMC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAAeF,EAAAA,EAAAA,IAAYG,EAAAA,IAC3BC,GAAYJ,EAAAA,EAAAA,IAAYK,EAAAA,IACxBC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRF,GACEG,EAAAA,EAAAA,IAAa,CACXC,KAAM,EACNC,YAAalB,EACbmB,KAAMrB,KAGVe,GACEO,EAAAA,EAAAA,IAAqB,CACnBF,YAAalB,EACbmB,KAAMrB,IAGX,GAAE,CAACe,EAAUb,EAAoBF,KAElCiB,EAAAA,EAAAA,YAAU,WACJX,GACFS,GAASQ,EAAAA,EAAAA,IAAiB,CAAEJ,KAAMf,IAErC,GAAE,CAACW,EAAUX,EAAaE,IAyB3B,OACE,gCACGO,IAAa,SAAC,IAAD,KACd,UAAC,IAAD,YACE,SAAC,IAAD,CAAcW,MAAM,sCACpB,SAAC,IAAD,CACEb,aAAcA,EACdc,iBAzBiB,SAAAC,GACvBzB,EAAgByB,GAChBvB,EAAsB,IACtBE,EAAe,GACfE,GAAmB,EACpB,EAqBOoB,uBAnBuB,SAAAD,GAC7BvB,EAAsBuB,GACtBzB,EAAgB,IAChBI,EAAe,GACfE,GAAmB,EACpB,EAeOqB,yBAbyB,SAACC,EAAYC,GAC5Cf,GAASgB,EAAAA,EAAAA,IAAsB,CAAEF,WAAAA,EAAYC,WAAAA,IAC9C,KAaK,SAAC,IAAD,CAAUtB,KAAMA,EAAMwB,eAlCL,WACrB3B,GAAe,SAAA4B,GAAQ,OAAIA,EAAW,CAAf,IACvB1B,GAAmB,EACpB,SAmCF,C","sources":["pages/CarCatalog.jsx"],"sourcesContent":["import { CarsList } from 'components/CarList';\nimport { CarsFilter } from 'components/CarsFilter';\nimport { Loader } from 'components/common/Loader';\nimport { Section } from 'components/common/Section';\nimport { SectionTitle } from 'components/common/SectionTitle';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  selectCarsItems,\n  selectFilterValues,\n  selectIsLoading,\n} from 'redux/selectors';\nimport {\n  getCarsByMileageThunk,\n  getCarsQuantityThunk,\n  getCarsThunk,\n  getMoreCarsThunk,\n} from 'redux/thunks';\n\nconst CarCatalog = () => {\n  const [selectedMake, setSelectedMake] = useState('');\n  const [selectedPriceRange, setSelectedPriceRange] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [shouldFetchMore, setShouldFetchMore] = useState(false);\n  const cars = useSelector(selectCarsItems);\n  const filterValues = useSelector(selectFilterValues);\n  const isLoading = useSelector(selectIsLoading);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(\n      getCarsThunk({\n        page: 1,\n        rentalPrice: selectedPriceRange,\n        make: selectedMake,\n      })\n    );\n    dispatch(\n      getCarsQuantityThunk({\n        rentalPrice: selectedPriceRange,\n        make: selectedMake,\n      })\n    );\n  }, [dispatch, selectedPriceRange, selectedMake]);\n\n  useEffect(() => {\n    if (shouldFetchMore) {\n      dispatch(getMoreCarsThunk({ page: currentPage }));\n    }\n  }, [dispatch, currentPage, shouldFetchMore]);\n\n  const handleLoadMore = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n    setShouldFetchMore(true);\n  };\n\n  const handleMakeChange = value => {\n    setSelectedMake(value);\n    setSelectedPriceRange('');\n    setCurrentPage(1);\n    setShouldFetchMore(false);\n  };\n\n  const handlePriceRangeChange = value => {\n    setSelectedPriceRange(value);\n    setSelectedMake('');\n    setCurrentPage(1);\n    setShouldFetchMore(false);\n  };\n\n  const handleApplyMileageFilter = (minMileage, maxMileage) => {\n    dispatch(getCarsByMileageThunk({ minMileage, maxMileage }));\n  };\n\n  return (\n    <>\n      {isLoading && <Loader />}\n      <Section>\n        <SectionTitle title=\"Find a car with this Car Catalog\" />\n        <CarsFilter\n          filterValues={filterValues}\n          handleMakeChange={handleMakeChange}\n          handlePriceRangeChange={handlePriceRangeChange}\n          handleApplyMileageFilter={handleApplyMileageFilter}\n        />\n        <CarsList cars={cars} handleLoadMore={handleLoadMore} />\n      </Section>\n    </>\n  );\n};\n\nexport default CarCatalog;\n"],"names":["useState","selectedMake","setSelectedMake","selectedPriceRange","setSelectedPriceRange","currentPage","setCurrentPage","shouldFetchMore","setShouldFetchMore","cars","useSelector","selectCarsItems","filterValues","selectFilterValues","isLoading","selectIsLoading","dispatch","useDispatch","useEffect","getCarsThunk","page","rentalPrice","make","getCarsQuantityThunk","getMoreCarsThunk","title","handleMakeChange","value","handlePriceRangeChange","handleApplyMileageFilter","minMileage","maxMileage","getCarsByMileageThunk","handleLoadMore","prevPage"],"sourceRoot":""}