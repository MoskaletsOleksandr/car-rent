{"version":3,"file":"static/js/607.42f9f92c.chunk.js","mappings":"gOAyFA,UA1EmB,WACjB,OAAwCA,EAAAA,EAAAA,UAAS,IAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAoDF,EAAAA,EAAAA,UAAS,IAA7D,eAAOG,EAAP,KAA2BC,EAA3B,KACA,GAAsCJ,EAAAA,EAAAA,UAAS,GAA/C,eAAOK,EAAP,KAAoBC,EAApB,KACA,GAA8CN,EAAAA,EAAAA,WAAS,GAAvD,eAAOO,EAAP,KAAwBC,EAAxB,KACMC,GAAOC,EAAAA,EAAAA,IAAYC,EAAAA,IACnBC,GAAeF,EAAAA,EAAAA,IAAYG,EAAAA,IAC3BC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACRF,GACEG,EAAAA,EAAAA,IAAa,CACXC,KAAM,EACNC,YAAahB,EACbiB,KAAMnB,KAGVa,GACEO,EAAAA,EAAAA,IAAqB,CACnBF,YAAahB,EACbiB,KAAMnB,IAGX,GAAE,CAACa,EAAUX,EAAoBF,KAElCe,EAAAA,EAAAA,YAAU,WACJT,GACFO,GAASQ,EAAAA,EAAAA,IAAiB,CAAEJ,KAAMb,IAErC,GAAE,CAACS,EAAUT,EAAaE,IAyB3B,OACE,SAAC,IAAD,WACE,UAAC,IAAD,YACE,SAAC,IAAD,CAAcgB,MAAM,sCACpB,SAAC,IAAD,CACEX,aAAcA,EACdY,iBAxBiB,SAAAC,GACvBvB,EAAgBuB,GAChBrB,EAAsB,IACtBE,EAAe,GACfE,GAAmB,EACpB,EAoBOkB,uBAlBuB,SAAAD,GAC7BrB,EAAsBqB,GACtBvB,EAAgB,IAChBI,EAAe,GACfE,GAAmB,EACpB,EAcOmB,yBAZyB,SAACC,EAAYC,GAC5Cf,GAASgB,EAAAA,EAAAA,IAAsB,CAAEF,WAAAA,EAAYC,WAAAA,IAC9C,KAaK,SAAC,IAAD,CAAUpB,KAAMA,EAAMsB,eAlCL,WACrBzB,GAAe,SAAA0B,GAAQ,OAAIA,EAAW,CAAf,IACvBxB,GAAmB,EACpB,QAsCF,C","sources":["pages/CarCatalog.jsx"],"sourcesContent":["import { CarsList } from 'components/CarList';\nimport { CarsFilter } from 'components/CarsFilter';\nimport { Container } from 'components/common/Container';\nimport { Section } from 'components/common/Section';\nimport { SectionTitle } from 'components/common/SectionTitle';\nimport { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectCarsItems, selectFilterValues } from 'redux/selectors';\nimport {\n  getCarsByMileageThunk,\n  getCarsQuantityThunk,\n  getCarsThunk,\n  getMoreCarsThunk,\n} from 'redux/thunks';\n\nconst CarCatalog = () => {\n  const [selectedMake, setSelectedMake] = useState('');\n  const [selectedPriceRange, setSelectedPriceRange] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [shouldFetchMore, setShouldFetchMore] = useState(false);\n  const cars = useSelector(selectCarsItems);\n  const filterValues = useSelector(selectFilterValues);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(\n      getCarsThunk({\n        page: 1,\n        rentalPrice: selectedPriceRange,\n        make: selectedMake,\n      })\n    );\n    dispatch(\n      getCarsQuantityThunk({\n        rentalPrice: selectedPriceRange,\n        make: selectedMake,\n      })\n    );\n  }, [dispatch, selectedPriceRange, selectedMake]);\n\n  useEffect(() => {\n    if (shouldFetchMore) {\n      dispatch(getMoreCarsThunk({ page: currentPage }));\n    }\n  }, [dispatch, currentPage, shouldFetchMore]);\n\n  const handleLoadMore = () => {\n    setCurrentPage(prevPage => prevPage + 1);\n    setShouldFetchMore(true);\n  };\n\n  const handleMakeChange = value => {\n    setSelectedMake(value);\n    setSelectedPriceRange('');\n    setCurrentPage(1);\n    setShouldFetchMore(false);\n  };\n\n  const handlePriceRangeChange = value => {\n    setSelectedPriceRange(value);\n    setSelectedMake('');\n    setCurrentPage(1);\n    setShouldFetchMore(false);\n  };\n\n  const handleApplyMileageFilter = (minMileage, maxMileage) => {\n    dispatch(getCarsByMileageThunk({ minMileage, maxMileage }));\n  };\n\n  return (\n    <Section>\n      <Container>\n        <SectionTitle title=\"Find a car with this Car Catalog\" />\n        <CarsFilter\n          filterValues={filterValues}\n          handleMakeChange={handleMakeChange}\n          handlePriceRangeChange={handlePriceRangeChange}\n          handleApplyMileageFilter={handleApplyMileageFilter}\n        />\n        {/* {cars === [] ? ( */}\n        <CarsList cars={cars} handleLoadMore={handleLoadMore} />\n        {/* ) : (\n        <p>any cars by mileage</p>\n      )} */}\n      </Container>\n    </Section>\n  );\n};\n\nexport default CarCatalog;\n"],"names":["useState","selectedMake","setSelectedMake","selectedPriceRange","setSelectedPriceRange","currentPage","setCurrentPage","shouldFetchMore","setShouldFetchMore","cars","useSelector","selectCarsItems","filterValues","selectFilterValues","dispatch","useDispatch","useEffect","getCarsThunk","page","rentalPrice","make","getCarsQuantityThunk","getMoreCarsThunk","title","handleMakeChange","value","handlePriceRangeChange","handleApplyMileageFilter","minMileage","maxMileage","getCarsByMileageThunk","handleLoadMore","prevPage"],"sourceRoot":""}